{"version":3,"sources":["../src/Carousel.js","../src/ErrorBoundary.js","../src/Modal.js","../src/ThemeContext.js","../src/Details.js","../src/Pet.js","../src/Results.js","../src/useAnimalList.js","../src/SearchParams.js","../src/App.js","index.js"],"names":["Carousel","Component","active","event","setState","target","dataset","index","render","state","images","props","map","photo","handleIndexClick","console","log","ErrorBoundary","hasError","getDerivedStateFromError","redirect","componentDidCatch","error","info","setTimeout","children","Modal","modalRoot","document","getElementById","elRef","current","createElement","setAttribute","appendChild","removeChild","ThemeContext","Details","loading","showModal","window","location","componentDidMount","res","fetch","match","params","id","json","pet","pets","name","animal","breed","city","description","Error","theme","toggleModal","backgroundColor","adopt","DetailsWithRouter","DetailsWithErrorBoundary","Pet","hero","length","Results","localCache","Object","freeze","UNLOADED","LOADING","LOADED","useAnimalList","breedList","setBreedList","setLoading","breeds","requestBreedList","SearchParams","ANIMALS","setPets","setLocation","setAnimal","setBreed","animalList","setTheme","requestPets","e","preventDefault","value","App","PORT","process","env","html","fs","readFileSync","toString","parts","split","app","use","express","static","req","staticContent","reactMarkup","url","status","statusCode","send","end","listen"],"mappings":"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","file":"index.js","sourceRoot":"../server","sourcesContent":["import { Component } from 'react';\n\nclass Carousel extends Component {\n  state = {\n    active: 0,\n  };\n\n  static defaultProps = {\n    images: ['http://pets-images.dev-apis.com/pets/none.jpg'],\n  };\n\n  handleIndexClick = (event) => {\n    this.setState({\n      active: +event.target.dataset.index,\n    });\n  };\n\n  render() {\n    const { active } = this.state;\n    const { images } = this.props;\n\n    return (\n      <div className=\"carousel\">\n        <img src={images[active]} alt=\"animal\" />\n        <div className=\"carousel-smaller\">\n          {images.map((photo, index) => {\n            return (\n              <img\n                src={photo}\n                key={photo}\n                className={index === active ? 'active' : ''}\n                alt=\"doggito thumbnail\"\n                data-index={index}\n                onMouseOver={this.handleIndexClick}\n                onFocus={console.log}\n              />\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Carousel;\n","import { Component } from 'react';\n\nimport {\n  Link,\n  Redirect\n} from 'react-router-dom';\n\nexport class ErrorBoundary extends Component {\n  state = {\n    hasError: false,\n  };\n\n  static getDerivedStateFromError() {\n    return { hasError: true, redirect: false };\n  }\n\n  componentDidCatch(error, info) {\n    // log into sentry, azure, tracks, relic, etc...\n    console.error('ErrorBoundary caught', error, info);\n\n    if (this.state.hasError) {\n      setTimeout(() => {\n        this.setState({ redirect: true });\n      }, 3000);\n    }\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to=\"/\" />;\n    } else if (this.state.hasError) {\n      return (\n        <div className=\"details\">\n          <h2>\n            This listing has en error! <Link to=\"/\">Click here</Link> to go back\n            to the home page or wait 3 secs.\n          </h2>\n        </div>\n      );\n    }\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","import { Fragment, useEffect, useRef } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst Modal = ({ children }) => {\n  const modalRoot = document.getElementById('modal');\n\n  const elRef = useRef(null);\n\n  if (!elRef.current) {\n    elRef.current = document.createElement('div');\n    elRef.current.setAttribute('id', 'elRef');\n  }\n\n  useEffect(() => {\n    modalRoot.appendChild(elRef.current);\n    return () => {\n      modalRoot.removeChild(elRef.current);\n    };\n  }, []);\n\n  return createPortal(<Fragment>{children}</Fragment>, elRef.current);\n};\n\nexport default Modal;\n\n/* <div id=\"modal\">\n  <>\n  <div id=\"elRef\">\n  {children}\n  </div>\n  </>\n  </div> */\n","import { createContext } from 'react';\n\nconst ThemeContext = createContext(['green', () => {}]);\n\nexport default ThemeContext;\n","import { Component } from 'react';\n\nimport { withRouter } from 'react-router-dom';\n\nimport Carousel from './Carousel';\nimport { ErrorBoundary } from './ErrorBoundary';\nimport Modal from './Modal';\nimport ThemeContext from './ThemeContext';\n\nclass Details extends Component {\n  state = {\n    loading: true,\n    showModal: false,\n  };\n\n  async componentDidMount() {\n    const res = await fetch(\n      `http://pets-v2.dev-apis.com/pets?id=${this.props.match.params.id}`\n    );\n\n    const json = await res.json();\n\n    const pet = json.pets[0] ? json.pets[0] : [];\n\n    this.setState({\n      loading: false,\n      name: pet.name,\n      animal: pet.animal,\n      breed: pet.breed,\n      city: pet.city,\n      state: pet.state,\n      description: pet.description,\n      images: pet.images,\n    });\n  }\n\n  toggleModal = () => this.setState({ showModal: !this.state.showModal });\n\n  adopt = () => (window.location = 'http://bit.ly/pet-adopt');\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div className=\"details\">\n          <h1>loading ...</h1>\n        </div>\n      );\n    }\n\n    const {\n      animal,\n      breed,\n      city,\n      description,\n      name,\n      state,\n      images,\n      showModal,\n    } = this.state;\n\n    if (!animal) {\n      throw new Error('error!');\n    }\n\n    return (\n      <div className=\"details\">\n        <div>\n          <Carousel images={images} />\n          <h1>{name}</h1>\n          <h2>\n            {animal} - {breed} - {city}, {state}\n          </h2>\n          <ThemeContext.Consumer>\n            {([theme]) => (\n              <button\n                onClick={this.toggleModal}\n                style={{ backgroundColor: theme }}\n              >\n                Adopt {name}{' '}\n              </button>\n            )}\n          </ThemeContext.Consumer>\n          <p>{description}</p>\n        </div>\n        {showModal ? (\n          <Modal>\n            <h1>Would you like to adopt {name}?</h1>\n            <button onClick={this.adopt}>yes!</button>\n            <button onClick={this.toggleModal}>no, I&apos;m a monster!</button>\n          </Modal>\n        ) : null}\n      </div>\n    );\n  }\n}\nconst DetailsWithRouter = withRouter(Details);\n\nexport default function DetailsWithErrorBoundary() {\n  return (\n    <ErrorBoundary>\n      <DetailsWithRouter />\n    </ErrorBoundary>\n  );\n}\n","import React from 'react';\n\nimport { Link } from 'react-router-dom';\n\nconst Pet = ({ name, animal, breed, images, location, id }) => {\n  let hero = 'https://pets-images.dev-apis.com/pets/none.jpg';\n\n  if (images.length) {\n    hero = images[0];\n  }\n\n  return (\n    <Link to={`/details/${id}`} className=\"pet\">\n      <div className=\"image-container\">\n        <img src={hero} alt={name} />\n      </div>\n      <div className=\"info\">\n        <h1>{name}</h1>\n        <h2>{`${animal} - ${breed} - ${location}`}</h2>\n      </div>\n    </Link>\n  );\n};\n\nexport default Pet;\n","import Pet from './Pet';\n\nconst Results = (props) => (\n  <div className=\"search\">\n    {!props.pets.length ? (\n      <h3> Nothing to show</h3>\n    ) : (\n      props.pets.map((pet) => (\n        <Pet\n          key={pet.id}\n          name={pet.name}\n          animal={pet.animal}\n          breed={pet.breed}\n          images={pet.images}\n          location={`${pet.city}, ${pet.state}`}\n          id={pet.id}\n        />\n      ))\n    )}\n  </div>\n);\n\nexport default Results;\n","import {\n  useEffect,\n  useState\n} from 'react';\n\nconst localCache = {};\n\nconst state = Object.freeze({\n  UNLOADED: 'unloaded',\n  LOADING: 'loading',\n  LOADED: 'loaded',\n});\n\nexport default function useAnimalList(animal = []) {\n  const [breedList, setBreedList] = useState([]);\n  const [loading, setLoading] = useState(state.UNLOADED);\n\n  const requestBreedList = async (animal) => {\n    setBreedList([]);\n    setLoading(state.LOADING);\n\n    const res = await fetch(\n      `http://pets-v2.dev-apis.com/breeds?animal=${animal}`\n    );\n\n    const json = await res.json();\n\n    localCache[animal] = json.breeds || [];\n\n    setBreedList(localCache[animal]);\n    setLoading(state.LOADED);\n  };\n\n  useEffect(() => {\n    if (animal.length === 0) {\n      setLoading(state.UNLOADED);\n      setBreedList([]);\n    } else if (localCache[animal]) {\n      setBreedList(localCache[animal]);\n    } else {\n      requestBreedList(animal);\n    }\n  }, [animal]);\n\n  return [breedList, loading];\n}\n","import {\n  useContext,\n  useEffect,\n  useState\n} from 'react';\n\nimport Results from './Results';\nimport ThemeContext from './ThemeContext';\nimport useAnimalList from './useAnimalList';\n\nconst ANIMALS = ['bird', 'cat', 'dog', 'rabbit', 'reptile'];\n\nconst SearchParams = () => {\n  const [pets, setPets] = useState([]);\n  const [location, setLocation] = useState('');\n  const [animal, setAnimal] = useState('');\n  const [breed, setBreed] = useState('');\n  const [animalList] = useAnimalList(animal);\n  const [theme, setTheme] = useContext(ThemeContext);\n\n  const requestPets = async (animal, breed, location) => {\n    const res = await fetch(\n      `http://pets-v2.dev-apis.com/pets?animal=${animal}&location=${location}&breed=${breed}`\n    );\n    const json = await res.json();\n    setPets(json.pets);\n    console.log(pets);\n  };\n\n  useEffect(() => {\n    requestPets(animal, breed, location);\n  }, []); //eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"search-params\">\n      <form\n        action=\"\"\n        onSubmit={(e) => {\n          e.preventDefault();\n          requestPets(animal, breed, location);\n        }}\n      >\n        <label htmlFor=\"location\">\n          Location\n          <input\n            id=\"location\"\n            value={location}\n            onChange={(e) => setLocation(e.target.value)}\n            placeholder=\"Location\" /** @type {import('webpack').Configuration} */\n          />\n        </label>\n\n        <label htmlFor=\"animal\">\n          Animal\n          <select\n            id=\"animal\"\n            value={animal}\n            onChange={(e) => setAnimal(e.target.value)}\n            onBlur={(e) => setAnimal(e.target.value)}\n          >\n            <option value=\"\" />\n            {ANIMALS.map((animal) => (\n              <option value={animal} key={animal}>\n                {animal}\n              </option>\n            ))}\n          </select>\n        </label>\n\n        <label htmlFor=\"breed\">\n          Breed\n          <select\n            disabled={!animalList.length}\n            id=\"breed\"\n            value={breed}\n            onChange={(e) => setBreed(e.target.value)}\n            onBlur={(e) => setBreed(e.target.value)}\n          >\n            <option value=\"\" />\n            {animalList.map((breed) => (\n              <option value={breed} key={breed}>\n                {breed}\n              </option>\n            ))}\n          </select>\n        </label>\n\n        <label htmlFor=\"theme\">\n          Theme\n          <select\n            id=\"theme\"\n            value={theme}\n            onChange={(e) => setTheme(e.target.value)}\n            onBlur={(e) => setTheme(e.target.value)}\n          >\n            <option value=\"darkblue\">Dark Blue</option>\n            <option value=\"peru\">Peru</option>\n            <option value=\"chartreuse\">Chartreuse</option>\n            <option value=\"mediumorchid\">Medium Orchid</option>\n          </select>\n        </label>\n        <button style={{ backgroundColor: theme }} type=\"submit\">\n          Submit\n        </button>\n      </form>\n\n      <Results pets={pets} />\n    </div>\n  );\n};\n\nexport default SearchParams;\n","import { StrictMode, useState } from 'react';\n\nimport { BrowserRouter as Router, Link, Route, Switch } from 'react-router-dom';\n\nimport Details from './Details';\nimport SearchParams from './SearchParams';\nimport ThemeContext from './ThemeContext';\n\nconst App = () => {\n  const theme = useState('darkblue');\n\n  return (\n    <StrictMode>\n      <ThemeContext.Provider value={theme}>\n        <div>\n          <header>\n            <Link to=\"/\">\n              <h1>Adopt Me!</h1>\n            </Link>\n          </header>\n          <Switch>\n            <Route\n              path=\"/details/:id\"\n              render={(props) => <Details {...props} />}\n            />\n            <Route path=\"/\" component={SearchParams} />\n          </Switch>\n        </div>\n      </ThemeContext.Provider>\n    </StrictMode>\n  );\n};\n\nexport default App;\n","import express from 'express';\nimport fs from 'fs';\nimport { renderToString } from 'react-dom/server';\nimport { StaticRouter } from 'react-router-dom';\n\nimport App from '../src/App';\n\nconst PORT = process.env.PORT || 3000;\n\nconst html = fs.readFileSync('dist/index.html').toString();\nconst parts = html.split('not rendered');\n\nconst app = express();\n\napp.use('/dist', express.static('dist'));\n\napp.use((req, res) => {\n  const staticContent = {};\n\n  const reactMarkup = (\n    <StaticRouter url={req.url} context={staticContent}>\n      <App />\n    </StaticRouter>\n  );\n\n  res.status(staticContent.statusCode || 200);\n  res.send(`${parts[0]}${renderToString(reactMarkup)}${parts[1]}`);\n  res.end();\n});\n\napp.listen(PORT, () => {\n  console.log(`Running on ${3000}`);\n});\n"]}